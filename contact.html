<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Me - Harshad Pareva</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* Styling for the message */
        #form-message {
            margin-top: 15px;
            padding: 10px;
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            border-radius: 5px;
            opacity: 0; /* Initially hidden */
            transition: opacity 0.5s ease-in-out; /* Smooth fade-in effect */
        }

        /* Success message styling */
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        /* Error message styling */
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* Animation for fade-in effect */
        .fade-in {
            opacity: 1 !important; /* Makes message visible */
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <a href="index.html" class="logo">
                <img src="images/logo.png" alt="My Blog Logo" width="150">
            </a>
            <nav class="nav-menu">
                <a href="index.html">Home</a>
                <a href="blogs.html">Blogs</a>
                <a href="contact.html">Contact</a>
                <a href="about.html">About Me</a>
            </nav>
            <h1>Contact Me</h1>
            <p>Let's connect and collaborate!</p>
        </div>
    </header>

    <main class="contact-content">
        <section class="contact-form">
            <h2>Send Me a Message</h2>
            <form action="https://formspree.io/f/xgvozkve" method="POST">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="message">Message:</label>
                    <textarea id="message" name="message" rows="5" required></textarea>
                </div>
                <button type="submit">Send Message</button>
            </form>
            <!-- Message container -->
            <p id="form-message"></p>
        </section>

        <section class="contact-info">
            <h2>Get in Touch</h2>
            <p>Feel free to reach out via email or connect with me on social media.</p>
            <ul>
                <li><strong>Email:</strong> <a href="mailto:yourname@example.com">yourname@example.com</a></li>
                <li><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/harshad-pareva-52871299/">Harshad Pareva</a></li>
                <li><strong>Twitter:</strong> <a href="https://x.com/harshad_pareva">@harshad_pareva</a></li>
            </ul>
            <div class="map">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12345.6789101112!2d-122.123456789!3d37.123456789!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzfCsDA3JzI0LjQiTiAxMjLCsDA3JzI0LjQiVw!5e0!3m2!1sen!2sus!4v1234567890123!5m2!1sen!2sus"
                    width="100%"
                    height="300"
                    style="border:0;"
                    allowfullscreen=""
                    loading="lazy">
                </iframe>
            </div>
        </section>
    </main>

    <footer>
        <div class="social-icons">
            <a href="#">Instagram</a>
            <a href="#">Facebook</a>
            <a href="#">LinkedIn</a>
            <a href="#">Twitter</a>
        </div>
        <p>Â© 2024 Harshad Pareva. All rights reserved.</p>
    </footer>

    <!-- JavaScript for Form Handling -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const form = document.querySelector(".contact-form form");
            const formMessage = document.getElementById("form-message");

            if (!form || !formMessage) {
                console.error("Form or form message element not found!");
                return;
            }

            form.addEventListener("submit", async (e) => {
                e.preventDefault(); // Stop page reload
                formMessage.textContent = "Sending message..."; // Show loading message
                formMessage.className = ""; // Reset class
                formMessage.classList.add("fade-in");

                try {
                    // Ensure form element is correctly selected
                    if (!(form instanceof HTMLFormElement)) {
                        throw new Error("Form element not found.");
                    }

                    const response = await fetch(form.action, {
                        method: "POST",
                        body: new FormData(form),
                        headers: { Accept: "application/json" },
                    });

                    if (response.ok) {
                        formMessage.textContent = "Thanks for your message! ðŸŽ‰ I will try my best to revert you back as soon as I can!";
                        formMessage.classList.add("success", "fade-in");
                        formMessage.classList.remove("error");
                        form.reset(); // Clear form fields
                    } else {
                        formMessage.textContent = "Oops! Something went wrong. Please try again.";
                        formMessage.classList.add("error", "fade-in");
                        formMessage.classList.remove("success");
                    }
                } catch (error) {
                    console.error("Network error:", error);
                    formMessage.textContent = "Network error. Check your internet connection.";
                    formMessage.classList.add("error", "fade-in");
                    formMessage.classList.remove("success");
                }

                // Automatically hide message after 5 seconds
                setTimeout(() => {
                    formMessage.classList.remove("fade-in");
                }, 5000);
            });
        });
    </script>
</body>
</html>
